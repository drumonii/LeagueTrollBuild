plugins {
  id 'com.moowork.node' version '1.2.0'
}

node {
  version = '10.15.3'
  npmVersion = '6.8.0'
  download = true
  workDir = file("${project.buildDir}/node")
  npmWorkDir = file("${project.buildDir}/npm")
  nodeModulesDir = file("${project.projectDir}")
}

task npmBuild(type: NpmTask, dependsOn: 'npmInstall') {
  args = ['run', 'build']
}

task karmaTests(type: NpmTask, dependsOn: 'npmInstall') {
  args = ['run', 'test-ci']
}
